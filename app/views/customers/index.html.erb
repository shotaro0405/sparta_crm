<div class="row">
  <div class="col-lg-12">
    <h1>顧客一覧</h1>

    <!-- 検索機能 -->
    <%= search_form_for @q do |f| %>
    <div class="row">
      <div class="col-sm-3">
        <%= f.label :family_name, "姓" %>
        <%= f.search_field :family_name_cont, class: "form-control input-sm"  %>
      </div>

      <div class="col-sm-3">
        <%= f.label :given_name, "名" %>
        <%= f.search_field :given_name_cont, class: "form-control input-sm" %>
      </div>

      <div class="col-sm-3">
        <%= f.label :company_name, "会社名" %>
        <%= f.search_field :company_name_cont, class: "form-control input-sm" %>
      </div>

      <div class="col-sm-3">
        <%= f.label :email, "電子メール" %>
        <%= f.search_field :email_cont, class: "form-control input-sm" %>
      </div>
    </div>

  <div class="row">
    <div class="col-xs-12 text-center">
      <%= f.submit "検索" , class: "btn btn-default" %>
    </div>
  </div>
    <% end %>

    <table class="table table-striped">
      <thead>
        <tr>
          <th><%= sort_link(@q, :family_name, "姓") %></th>
          <th><%= sort_link(@q, :given_name, "名") %></th>
          <th><%= sort_link(@q, :company_name, "会社名") %></th>
          <th><%= sort_link(@q, :email, "電子メール") %></th>
          <th>リンク</th>
        </tr>
      </thead>
      <tbody>
      <% @customers.each do |customer| %>
        <tr>
          <td><%= customer.family_name %></td>
          <td><%= customer.given_name %></td>
          <td><%= customer.company.name %></td>
          <td><%= customer.email %></td>
          <td><%= link_to '詳細', customer, class: "btn btn-default" %></td>
        </tr>
          <% end %>
      </tbody>
    </table>
    <%= paginate @customers %>
  </div>
</div>
